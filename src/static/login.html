<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./styles.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Login</title>
    </head>
    <body onload="document.getElementById('id02').style.display='block';">
        <div id="id01" class="modal">
        
            <form class="modal-content animate">
              <div class="imgcontainer">
                <span onclick="document.getElementById('id01').style.display='none'; checkLogin()" class="close" title="Close Modal">&times;</span>
                <img src="./assets/img/avatar.png" alt="Avatar" class="avatar">
              </div>
          
              <div class="container">
  
                <label for="uname"><b>Username</b></label><br>
                <input id="lUsername" type="text" placeholder="Enter Username" name="username" required>
                <br>
                <label for="password"><b>Password</b></label><br>
                <input id="lPassword" type="password" placeholder="Enter Password" name="password" required>
  
                <button onclick="Login(); document.getElementById('id01').style.display='none'">Login</button>
                <button onclick="document.getElementById('id01').style.display='none'; document.getElementById('id02').style.display='block'">Sign Up</button>
                <label>
                  <input type="checkbox" name="remember" id="lRemember"> Remember me
                </label>
              </div>
          
              <div class="container" style="background-color:#f1f1f1">
                <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
                <span class="psw">Forgot <a href="#">password?</a></span>
              </div>
            </form>
          </div>
  
          <div id="id02" class="modal">
          
              <form class="modal-content animate" action="/api/auth/signup" method="POST" id="signinform">
                <div class="imgcontainer">
                  <span onclick="document.getElementById('id02').style.display='none'; checkLogin()" class="close" title="Close Modal">&times;</span>
                  <img src="./assets/img/avatar.png" alt="Avatar" class="avatar">
                </div>
            
                <div class="container">
    
                  <label for="email"><b>E-mail</b></label><br>
                  <input type="text" placeholder="Enter E-mail" name="email" required>
                  <br>
                  <label for="uname"><b>Username</b></label><br>
                  <input type="text" placeholder="Enter Username" name="username" required>
                  <br>
                  <label for="password"><b>Password</b></label><br>
                  <input type="password" placeholder="Enter Password" name="password" id="Password" required>
                  <br>
                  <label for="password"><b>Repeat Password</b></label><br>
                  <input type="password" placeholder="Repeat Password" name="password" id="RepeatPassword" required>  
                  <br>
                  <label for="location"><b>Start locatie</b></label><br>
                  <input type="text" placeholder="Enter start locatie" name="location" required>
    
                  <button type="submit">Sign Up</button>
                  <button type="submit" onclick="document.getElementById('id01').style.display='block'; document.getElementById('id02').style.display='none'">Login</button>
                  <label>
                    <input type="checkbox" name="remember"> Remember me
                  </label>
                </div>
            
                <div class="container" style="background-color:#f1f1f1">
                  <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
                  <span class="psw">Forgot <a href="#">password?</a></span>
                </div>
              </form>
            </div>
    </body>
    <script>
      document.getElementById('signinform').addEventListener('submit', function(event) {
          // Prevent the form from submitting in the default way
          event.preventDefault();
          
          const form = event.target;
          const formData = new FormData(form);
          alert(formData);

          // session token
          // Send the data using fetch
          fetch("/api/auth/signup", {
            method: "POST",
            body: {
              username: formData.username,
              password: formData.password,
              email: formData.email
            }
          })
          .then(response => response.json())
          .then(data => {
              // Handle the response
              console.log('Success:', data);
          })
          .catch((error) => {
              // Handle the error
              console.error('Error:', error);
          });
      });
    </script>
</html>